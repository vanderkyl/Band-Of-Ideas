export declare const worker = "!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&n&&\"string\"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p=\"\",e(e.s=16)}([function(t,n,e){\"use strict\";const r=(t,n,e)=>{const r=t.length,o=[];let u=!1;for(let a=0;a<r;a+=1)t[a]>n?u=!0:u&&(u=!1,o.push(a-1),a+=e/4-1);return u&&o.push(r-1),o};e.d(n,\"a\",(function(){return o}));const o=(t,n)=>{const e=(t=>{let n=0;const e=t.length;for(let r=0;r<e;r+=1)t[r]>n&&(n=t[r]);return n})(t),o=.3*e;let u=[],a=e-.05*e;if(e>.25)for(;u.length<30&&a>=o;)u=r(t,a,n),a-=.05*e;const f=((t,n)=>{const e=[];return t.forEach(t=>{let r=60/(t.interval/n);for(;r<90;)r*=2;for(;r>180;)r/=2;let o=!1,u=t.peaks.length;e.forEach(n=>{if(n.tempo===r&&(n.score+=t.peaks.length,n.peaks=[...n.peaks,...t.peaks],o=!0),n.tempo>r-.5&&n.tempo<r+.5){const e=2*Math.abs(n.tempo-r);u+=(1-e)*n.peaks.length,n.score+=(1-e)*t.peaks.length}}),o||e.push({peaks:t.peaks,score:u,tempo:r})}),e})((t=>{const n=[];return t.forEach((e,r)=>{const o=Math.min(t.length-r,10);for(let u=1;u<o;u+=1){const o=t[r+u]-e;n.some(t=>t.interval===o&&(t.peaks.push(e),!0))||n.push({interval:o,peaks:[e]})}}),n})(u),n);return f.sort((t,n)=>n.score-t.score),f}},function(t,n,e){\"use strict\";e.r(n);var r=e(2);for(var o in r)\"default\"!==o&&function(t){e.d(n,t,(function(){return r[t]}))}(o);var u=e(3);for(var o in u)\"default\"!==o&&function(t){e.d(n,t,(function(){return u[t]}))}(o);var a=e(4);for(var o in a)\"default\"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);var f=e(5);for(var o in f)\"default\"!==o&&function(t){e.d(n,t,(function(){return f[t]}))}(o);var c=e(6);for(var o in c)\"default\"!==o&&function(t){e.d(n,t,(function(){return c[t]}))}(o);var i=e(7);for(var o in i)\"default\"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);var s=e(8);for(var o in s)\"default\"!==o&&function(t){e.d(n,t,(function(){return s[t]}))}(o);var l=e(9);for(var o in l)\"default\"!==o&&function(t){e.d(n,t,(function(){return l[t]}))}(o);var d=e(10);for(var o in d)\"default\"!==o&&function(t){e.d(n,t,(function(){return d[t]}))}(o)},function(t,n){},function(t,n){},function(t,n){},function(t,n){},function(t,n){},function(t,n){},function(t,n){},function(t,n){},function(t,n){},function(t,n,e){\"use strict\";e.r(n);var r=e(12);for(var o in r)\"default\"!==o&&function(t){e.d(n,t,(function(){return r[t]}))}(o);var u=e(13);for(var o in u)\"default\"!==o&&function(t){e.d(n,t,(function(){return u[t]}))}(o)},function(t,n){},function(t,n){},function(t,n,e){\"use strict\";e.d(n,\"a\",(function(){return o}));var r=e(0);const o=(t,n)=>{const e=Object(r.a)(t,n);if(0===e.length)throw new Error(\"The given channelData does not contain any detectable beats.\");return e[0].tempo}},function(t,n,e){\"use strict\";e.d(n,\"a\",(function(){return o}));var r=e(0);const o=(t,n)=>{const e=Object(r.a)(t,n);if(0===e.length)throw new Error(\"The given channelData does not contain any detectable beats.\");const{peaks:o,tempo:u}=e[0],a=Math.round(u),f=60/a;o.sort((t,n)=>t-n);let c=o[0]/n;for(;c>f;)c-=f;return{bpm:a,offset:c}}},function(t,n,e){\"use strict\";e.r(n);var r=e(14),o=e(15),u=e(1);for(var a in u)\"default\"!==a&&function(t){e.d(n,t,(function(){return u[t]}))}(a);var f=e(11);for(var a in f)\"default\"!==a&&function(t){e.d(n,t,(function(){return f[t]}))}(a);addEventListener(\"message\",({data:t})=>{try{if(\"analyze\"===t.method){const{id:n,params:{channelData:e,sampleRate:o}}=t,u=Object(r.a)(e,o);postMessage({error:null,id:n,result:{tempo:u}})}else{if(\"guess\"!==t.method)throw new Error('The given method \"'.concat(t.method,'\" is not supported'));{const{id:n,params:{channelData:e,sampleRate:r}}=t,{bpm:u,offset:a}=Object(o.a)(e,r);postMessage({error:null,id:n,result:{bpm:u,offset:a}})}}}catch(n){postMessage({error:{message:n.message},id:t.id,result:null})}})}]);";
//# sourceMappingURL=/build/es2019/worker/worker.d.ts.map