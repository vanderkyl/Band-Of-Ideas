<div id="authentication" class="col-md-12">
  <div id="startBand" class="mainForm form col-sm-12" ng-click="openBandForm()">
    <h3>Start a<br>
      Band of Ideas
    </h3>
  </div>
  <div id="signUpForm" class="mainForm form col-sm-12">
    <h3>Start a<br>
      Band of Ideas
    </h3>
    <div id="startBandForm">
      <!-- <form name="signUp"> -->
        <div id="chooseBand">
          <form>
            <input id="bandNameInput" type="text" name="bandName" placeholder="Band Name" ng-model="user.bands[0].name" autocomplete="off" required/>
            <input type="submit" ng-click="checkBandAvailability()" value="Check Band"/>
            <input type="reset" value="Cancel"/>
          </form>
        </div>
        <div id="joinBand">
          <hr>
          <h3><strong>{{ user.bands[0].name }}</strong><br><br>
            This band already exists.<br>
            If you want to join, enter the band code
          </h3>
          <form>
            <input id="bandCodeInput" type="text" name="bandCode" placeholder="Band Code" ng-model="currentBandCode" autocomplete="off" required/>
            <input type="submit" ng-click="checkBandCode()" value="Check Code"/>
            <input type="reset" value="Cancel"/>
            <br>
            <input type="button" ng-click="backToChooseBand()" value="Go Back"/>
          </form>
        </div>
        <div id="chooseUser">
          <hr>
          <h3><strong>{{ user.bands[0].name }}</strong><br><br>
            Now time to create your account!
          </h3>
          <form>
            <input id="name" type="text" name="name" placeholder="Name" class="col-md-6" ng-model="user.name"/>
            <input id="signUpEmail" type="text" name="email" placeholder="Email" ng-model="user.email" required/>
            <input id="signUpPassword" type="password" name="password" placeholder="Password" ng-model="user.password" required/>
            <input id="passwordAgain" type="password" name="passwordAgain" placeholder="Password Again" ng-model="user.passwordAgain" required/>
            <input type="submit" ng-click="joinTheBand()" value="Join The Band"/>
            <input type="reset" value="Cancel"/>
          </form>
        </div>
      <!-- </form> -->
    </div>
  </div>
  <div id="startSignIn" class="mainForm form col-sm-12" ng-click="openSignInForm()">
      <h3>or<br>Sign In</h3>
  </div>
  <div id="signInForm" class="mainForm form col-sm-12">
    <form name="signIn">
      <h3>or<br>Sign In</h3>
      <input id="signInEmail" type="text" name="email" placeholder="Email" ng-model="user.email" required/>
      <input id="signInPassword" type="password" name="password" placeholder="Password" ng-model="user.password" required/>
      <input id="signInSubmitButton" type="submit" ng-click="login()" value="{{ loginMessage }}"/>
      <input type="reset" value="Cancel"/>
    </form>
  </div>
  <div id="testLogin" class="mainForm form col-sm-12" ng-click="testLogin()">
    <h3>
      Test
    </h3>
  </div>
</div>

<div id="accountInformation">
  <h2 id="bandName">Band(s)</h2>
  <hr><br>
  <div ng-repeat="band in user.bands" class="col-md-12">
    <div id="{{ 'band-' + $index }}" class="thumbnail folder buttons" ng-click="enterBand($index)">
      <h2 class="folderTitle">{{ band.name }}</h2>
    </div>
  </div>
  <!--
  <div id="addBandInput">
    <div class="thumbnail buttons col-md-12">
      <input type="text" name="bandName" placeholder="Band Name" ng-model="newBand" required/>
    </div>
    <div class="thumbnail folder buttons col-md-12" ng-click="addBand()">
      <h3>Add Band</h3>
    </div>
  </div>
  <div id="addBand" class="thumbnail folder buttons col-md-12" ng-click="showAddBandInput()">
    <h2>Add New Band</h2>
  </div>
-->
</div>

<!-- function onLogin($user) {
    $token = GenerateRandomToken(); // generate a token, should be 128 - 256 bit
    storeTokenForUser($user, $token);
    $cookie = $user . ':' . $token;
    $mac = hash_hmac('sha256', $cookie, SECRET_KEY);
    $cookie .= ':' . $mac;
    setcookie('rememberme', $cookie);
}
function rememberMe() {
    $cookie = isset($_COOKIE['rememberme']) ? $_COOKIE['rememberme'] : '';
    if ($cookie) {
        list ($user, $token, $mac) = explode(':', $cookie);
        if (!hash_equals(hash_hmac('sha256', $user . ':' . $token, SECRET_KEY), $mac)) {
            return false;
        }
        $usertoken = fetchTokenByUserName($user);
        if (hash_equals($usertoken, $token)) {
            logUserIn($user);
        }
    }
}
/**
 * A timing safe equals comparison
 *
 * To prevent leaking length information, it is important
 * that user input is always used as the second parameter.
 *
 * @param string $safe The internal (safe) value to be checked
 * @param string $user The user submitted (unsafe) value
 *
 * @return boolean True if the two strings are identical.
 */
function timingSafeCompare($safe, $user) {
    if (function_exists('hash_equals')) {
        return hash_equals($safe, $user); // PHP 5.6
    }
    // Prevent issues if string length is 0
    $safe .= chr(0);
    $user .= chr(0);

    // mbstring.func_overload can make strlen() return invalid numbers
    // when operating on raw binary strings; force an 8bit charset here:
    if (function_exists('mb_strlen')) {
        $safeLen = mb_strlen($safe, '8bit');
        $userLen = mb_strlen($user, '8bit');
    } else {
        $safeLen = strlen($safe);
        $userLen = strlen($user);
    }

    // Set the result to the difference between the lengths
    $result = $safeLen - $userLen;

    // Note that we ALWAYS iterate over the user-supplied length
    // This is to prevent leaking length information
    for ($i = 0; $i < $userLen; $i++) {
        // Using % here is a trick to prevent notices
        // It's safe, since if the lengths are different
        // $result is already non-0
        $result |= (ord($safe[$i % $safeLen]) ^ ord($user[$i]));
    }

    // They are only identical strings if $result is exactly 0...
    return $result === 0;
} -->
