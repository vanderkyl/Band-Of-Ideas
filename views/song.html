<!-- Song View -->
<div id="songView" style="display: none">
  <!-- Song Section - Displayed when a song is opened -->
  <div id="songSection">
    <!-- Start of Song buttons and Details -->
    <div class="filePage" class="col-xs-12">
    </div>
    <div class="col-xs-12" style="border: 1px solid white; border-radius: 8px; padding: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.5); margin-top: 10px; margin-bottom: 10px;">
      <h4 style="color: white; padding: 0; margin-top: 25px; margin-bottom: 10px; text-align: center; font-size: 20px" class="col-xs-12"><a href="/#/band?id={{ band.id }}" style="color: white" class="backToButton">{{ band.name }}</a>  /  <span style="margin-left: 10px;">{{ song.name }}</span></h4>
      <p class="col-xs-12" style="text-align: center; margin-bottom: 10px; color: white;">{{ song.description }}</p>
      <div class="topButt" style="display: none;">
        <i class="fas fa-share-alt"></i>
      </div>
    </div>
    <!-- Song Buttons -->
    <div id="bandButtons" class="col-xs-12">
      <div class="col-xs-12">
        <div class="col-xs-6 col-sm-3" style="padding: 10px">
          <div class="dashboardButton" ng-click="goToSongFiles()">
            <span style="font-size: 14px">{{ files.length }}</span><br>
            <span style="font-size: 0.9em">Ideas</span>
            <div style="font-size: 8px">
              <i class="fas fa-chevron-down"></i>
            </div>
          </div>
        </div>
        <div class="col-xs-6 col-sm-3" style="padding: 10px">
          <div class="dashboardButton" ng-click="goToRecentComments()">
            <span style="font-size: 14px">{{ recentComments.length }}</span><br>
            <span style="font-size: 0.9em">Comments</span>
            <div style="font-size: 8px">
              <i class="fas fa-chevron-down"></i>
            </div>
          </div>
        </div>
        <div class="col-xs-6 col-sm-3" style="padding: 10px">
          <div class="dashboardButton" style="padding-top: 15px">
            <i class="far fa-star"></i>
            <p style="font-size: 0.9em">Favorite</p>
          </div>
        </div>
        <div class="col-xs-6 col-sm-3" style="padding: 10px">
          <div class="dashboardButton" ng-click="openSongFileModal()" style="padding-top: 15px">
            <i class="fas fa-upload"></i>
            <p style="font-size: 0.9em">Add Ideas</p>
          </div>
        </div>
      </div>
    </div>
    <!-- End Band Buttons -->
    <div id="songDetails" class="containers col-xs-12" style="padding: 5px">
      <div id="songArrangement" class="col-xs-12" style="border-bottom: 1px solid white; margin-bottom: 10px; padding-bottom: 25px;">
        <h4 style="color: white; text-align: center; margin-top: 25px;">Arrangement</h4>
        <div id="addArrangementButton" ng-show="!arrangement.length" ng-click="addArrangement()" class="folder col-xs-12" style="margin-bottom: 30px; text-align: center">
          <p style="color: white; padding-top: 10px">Add Arrangement</p>
        </div>
        <div id="arrangement" class="col-xs-12" style="display: none">
          <div id="editArrangementButton" class="col-xs-12" style="text-align: right">
            <a href="javascript:void(0)" ng-click="editArrangement()" >Edit</a>
          </div>
          <div id="arrangementBlocks">
            <div id="arrangementBlock" ng-repeat="block in arrangement">
              <div id="blockContents">
                {{ block.name }}
              </div>
            </div>
          </div>
        </div>
        <div id="editArrangement" class="col-xs-12 containers" style="display: none">
          <div class="col-xs-12" style="min-height: 300px">
            <div class="editArrangementBlock" ng-repeat="block in arrangement">
              <div id="editBlockContents" class="arrangementBlock">
                {{ block.name }}
              </div>
            </div>
            <div id="addArrangementBlock" ng-click="addArrangementBlock()" style="display: inline-block">
              <p id="addPartButtonText">Add Part</p>
            </div>
            <div id="addArrangementPartBlock" style="display: none">
              <div id="addPartForm" style="padding: 20px;">
                <div class="col-xs-12">
                    <input id="addPartNameInput" type="text" ng-model="newArrangement.name" value="Name" placeholder="Name"/>
                </div>
                <div class="col-xs-12" style="margin-top: 5px;">
                  <div id="savePartButton" class="btn btn-success" style="font-size: 12px;" ng-click="saveArrangementPart()">Add Part</div>
                  <div id="closePartButton" class="btn btn-default" style="font-size: 12px;" ng-click="closeAddPart()">Close</div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xs-12" style="text-align: right">
            <div id="saveLyricsButton" class="btn btn-success" ng-click="saveArrangement()">Save Arrangement</div>
            <div id="closeAddArrangementButton" class="btn btn-default" style="display: none" ng-click="closeAddArrangement()">Close</div>
            <div id="closeEditArrangementButton" class="btn btn-default" style="display: none" ng-click="closeEditArrangement()">Close</div>
          </div>
       </div>

      </div>


      <div id="songLyrics" class="col-xs-12">
        <h4 style="color: white; text-align: center; margin-top: 25px;">Lyrics</h4>

        <div id="songLyricsTextContainer" class="containers col-xs-12">
          <div id="editLyrics" class="col-xs-12" style="text-align: right">
            <a href="javascript:void(0)" ng-click="editLyrics()" >Edit</a>
          </div>
          <div id="songLyricsText" class="col-xs-12" style="padding: 35px; white-space: pre-wrap;">{{ song.lyrics }}</div>
        </div>

        <div id="songLyricsInputContainer" class="containers col-xs-12" style="display: none">
          <div id="closeLyricsButton" class="btn" style="display: inline-block; float: right; font-size: 14px" ng-click="closeEditLyrics()">Close</div>
          <textarea id="songLyricsInput" name="lyrics" ng-model="song.lyrics" rows="4" cols="50">
            {{ song.lyrics }}
          </textarea>
          <div class="col-xs-12" style="text-align: right">
            <div id="saveLyricsButton" class="btn btn-success" style="display: inline-block" ng-click="saveLyrics()">Save Lyrics</div>
          </div>
        </div>
      </div>
    </div>

    <div id="files" class="containers col-xs-12" style="padding: 5px;">
      <div id="fileHeader">
        <!--<input id="fileSearchBar" type="search" ng-model="search" class="searchBar col-xs-12" style="" placeholder="Search Ideas">-->
        <div class="col-xs-6" style="text-align: left; padding-bottom: 13px;">Ideas</div>
        <div id="addSongFile" class="addToListButton col-xs-6">
          <a href="javascript:void(0)" ng-click="openSongFileModal()" ><i class="fas fa-plus"></i></a>
        </div>
        <div id="fileFilters" style="padding-right: 0; float: right; display: none;">
          <select ng-model="sortBy" id="fileOrder" class="form-control">
            <option value="name">Name</option>
            <option value="bytes">Size</option>
            <option value="-likes">Favorites</option>
            <option value="-views">Views</option>
          </select>
        </div>
      </div>
      <div id="playListFileDetails-{{ song.id }}" class="playListFileDetails"></div>
      <!-- Container that holds all files playlist -->
      <div id="fileList" class="col-xs-12" style="padding: 0">
        <div id="fileListHeader" class="playListFileInfo col-xs-12" style="padding-left: 15px; padding-right: 15px;">
          <p class="col-xs-1 songIndex">#</p>
          <p class="col-xs-4 fileName" >Name</p>
          <div class="col-xs-6" style="text-align: right; padding-left: 0; padding-right: 0;">
            <p style="min-width: 40px; display: inline-block">Duration</p>
            <p style="min-width: 40px; display: inline-block">Views</p>
            <p style="min-width: 40px; display: inline-block">Likes</p>
          </div>
        </div>
        <div class="col-xs-12 buttonList" >
          <div ng-animate="'animate'" class="song" style="padding: 5px" ng-repeat="song in files |
          filter:{name: search }
          | orderBy:sortBy" >
            <!-- This is a Single File -->
            <div id="file-{{ song.id }}" class="playListFile col-xs-12" data-index="{{ song.id }}" ng-click="showPopup(song.id)" onmouseover="showPlayerButton(this)" onmouseout="hidePlayerButton(this)" >
              <div class="popup">
                <span class="popuptext" id="filePopup-{{ song.id }}">
                  <div class="popupButton col-xs-6" ng-click="stopFile(song); hidePopup(song.id, $event); openMiniAudioPlayer(song); " style="border-right: 1px solid white">
                    Play
                  </div>
                  <div class="popupButton col-xs-6" ng-click="openFile(song, $event)">
                    Open
                  </div>
                </span>
              </div>
              <div class="playListFileInfo col-xs-12">
                <!-- <p class="deleteButton" ng-click="deleteFile($index)"> x </p>-->
                <p id="fileIndex-{{ song.id }}" class="col-xs-1 songIndex">{{ $index + 1 }}</p>
                <p id="fileStart-{{ song.id }}" class="col-xs-1 songIndex" style="display: none" ng-click="stopFile(song); openMiniAudioPlayer(song); "><i class="fas fa-play"></i></p>
                <p id="filePlay-{{ song.id }}" class="col-xs-1 songIndex" style="display: none" ng-click="playMiniAudioPlayer(song);"><i class="fas fa-play"></i></p>
                <p id="filePause-{{ song.id }}" class="col-xs-1 songIndex" style="display: none" ng-click="pauseMiniAudioPlayer(song);"><i class="fas fa-pause"></i></p>
                <p class="col-xs-4 fileName" >{{ song.name }}</p>
                <div class="col-xs-6" style="text-align: right; padding-left: 0; padding-right: 0;">
                  <p style="min-width: 40px; display: inline-block">{{ song.durationTime }}</p>
                  <p style="min-width: 40px; display: inline-block">{{ song.views }}</p>
                  <p style="min-width: 40px; display: inline-block">{{ song.likes }}</p>
                </div>
              </div>
            </div>
            <!-- End of Single File -->
          </div>
        </div>
      </div>
    <!-- End of Files -->
    </div>
  </div>
</div>
<!-- Add Song File Modal -->
<div id="addSongFileModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header col-xs-12">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Add Idea To Song</h4>
      </div>
      <div class="modal-body col-xs-12">
        <!-- Search -->
        <div id="ideaSearchContainer" class="idea-search col-xs-12">
          <form class="">
            <div class="form-group">
              <input id="idea-search-input" type="search" class="col-xs-12" placeholder="Search Ideas" onkeyup="showIdeaResult(this.value, 'idea-live-search', CURRENT_FILES)" autocomplete="off">
            </div>
          </form>
        </div>
        <div style="padding: 15px">
          <!-- Search Results -->
          <div id="idea-live-search" class="col-xs-12" style="margin-top: 10px"> </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!-- End of Add to Song Modal -->

<script src="js/managers/song.js" type="text/javascript"></script>
